#! /bin/bash
#
#$Author$
#$Date$
#$HeadURL$
#$Revision$
if (( !$# ))
then
 echo "Usage process_temps.bash <input file>"
 exit 1
else
 if [[ !(-r $1) ]]
 then
  echo "$1 is not a readable file."
 else
  sed 1d $1 | while read -a Data
  do
    TotalTemp=0
    currTime=${Data[0]}
    tempArr=("${Data[@]:1}")
    tempSize=${#tempArr[*]}
    for temperature in ${tempArr[*]};
    do
        let TotalTemp=$TotalTemp+$temperature
    done
    let averageTemp=$TotalTemp/$tempSize
    echo "Average temperature for time $currTime was $averageTemp C."
  done
 fi
fi
